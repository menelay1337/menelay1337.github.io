<!DOCTYPE html>
<html>
<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
		 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

		<link rel="stylesheet" href="style.css" type="text/css" media="screen" title="no title" charset="utf-8">

		<title>Cart</title>
</head>
<body style="background-image: url('https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwallpapercave.com%2Fwp%2Fwp2665254.jpg&f=1&nofb=1&ipt=68ff88d83996b660bdac8166a45ae938d0f1011ba5e36bc16b6435919fa7e807&ipo=images'); background-size: cover;">

	<!-- Modal form -->
	<div id="myModal" class="modal">
	<div class="modal-content">
		 <span class="close">&times;</span>
		<p class="display-6 text-center" id="formHeader" style="color:red;">Register!</p>
	<div class="container center" id="containerForm">

	<form class= "row g-2" action="" name="myForm" id="myForm" accept-charset="utf-8">
		<label for="login" id="logheader"> New login:</label> <br>
		<input type="text" value="" name="login" id="login"/> <br>
		<label for="email"> Email:</label> <br>
		<input type="email"  name="email" value="" name="email" id="email"/> <br>
		<label for="passwd">password:</label> <br>
		<input type="password" value="" name="passwd" id="passwd"/>
		 <input type="submit" name="formsumbit" id="submitbtn"value="Register">

	</form>
	</div>
	</div>
	</div>

	<script>// In basket.html
		const cartButton = document.querySelector('.btn-danger');
		const cartValue = document.getElementById('form1');
		
		cartButton.addEventListener('click', () => {
		
		  const productId = document.querySelector('.btn-danger');; // Replace with actual product ID retrieval
		
		  // Fetch the cart data from cart.html
		  fetch('/cart.html')
			.then(response => response.text())
			.then(html => {
			  // Parse the HTML to get the value of the input element with the specified ID
			  const cartHTML = new DOMParser().parseFromString(html, 'text/html');
			  const cartInput = cartHTML.querySelector('#form1');
			  const currentQuantity = parseInt(cartInput.value);
		
			  // Update the quantity for the specified product ID
			  const updatedQuantity = currentQuantity + 1;
			  cartInput.value = updatedQuantity;
		
			  // Save the updated cart data back to cart.html
			  const updatedHTML = cartHTML.documentElement.outerHTML;
			  fetch('/cart.html', {
				method: 'PUT',
				body: updatedHTML
			  });
			});
		});
		const addToCartButtons = document.querySelectorAll('.container-fluid button');
	
	for (const button of addToCartButtons) {
	  button.addEventListener('click', () => {
		const productId = button.dataset.productId;
		const productData = {
		  id: productId,
		  name: 'Standard edition!',
		  quantity: 1,
		};
	
		// Check if product is already in cart
		const cartItems = JSON.parse(localStorage.getItem('cart') || '[]');
		const existingProductIndex = cartItems.findIndex((item) => item.id === productId);
	
		if (existingProductIndex !== -1) {
		  cartItems[existingProductIndex].quantity++;
		} else {
		  cartItems.push(productData);
		}
	
		localStorage.setItem('cart', JSON.stringify(cartItems));
	  });
	}
		</script>
	

	<!-- Header -->
	<nav class="navbar navbar-expand-lg my-0 p-0">
	<div class="container-fluid">
			<a class="navbar-brand p-0 m-0" href="index.html">
			<img class="icon img-fluid" src="https://static.bandainamcoent.eu/high/tekken/tekken-8/00-page-setup/tekken8_logo.jpg.png" alt=""/>
			</a>
			 <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">		
			  <span class="navbar-toggler-icon"></span>
			  </button>
			  <div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0 text-center">
					<li class="nav-item p-3 m-3">
       					 <a class="h3" href="heroes.html">All heroes</a>
					 </li>
       					 <li class="nav-item p-3 m-3">
       					   <a class="h3" href="basket.html">Show now!</a>
       					 </li>
       					 <li class="nav-item p-3 m-3 panel">
       					   <a class="h3" href="admin.html">Admin</a>
       					 </li>
				  </ul>
				  <ul class="navbar-nav ms-auto mb-2 mb-lg-0 text-center">
					 <li class="nav-item m-1 p-1">
					  	<button id="modalBtn" class="btn">
					  	 <figure>
					  	      <img class="icon" style="width: 60px; height:60px;" src="src/usericon.png" alt="">
					  	      <figcaption style="text-align: center; color: white;" id="userName">Register</figcaption>
					  	 </figure>
					  	 </button>
					</li>
					<li class="nav-item m-1 p-1">
					  	<button onclick="location.href = 'cart.html';" class="btn">
					  	 <figure>
					  	      <img class="icon" style="width: 60px; height:60px;" src="src/cart.png" alt="">
					  	      <figcaption style="text-align: center; color: white;" id="userName">Cart</figcaption>
					  	 </figure>
					  	 </button>
					</li>

				  	
				  </ul>
			  </div>
	</div>
	</nav>
	<section class="h-100 h-custom">
		<div class="container-xxl h-100 py-5">
			<div class="row d-flex justify-content-center align-items-center h-100" >
				<div class="col" id="special-col">

					<div class="table-responsive">
						<table class="table">
							<thead>
							<tr>
								<th scope="col" class="h5">Shopping Cart</th>
								<th scope="col">Format</th>
								<th scope="col">Quantity</th>
								<th scope="col">Price</th>
								<th scope="col">Favorite</th>
							</tr>
							</thead>
							<tbody>
							<tr>
								<th scope="row">
									<div class="d-flex align-items-center">
										<img src="https://media.graphassets.com/eJHTGzfGROm8ImDgEI8z" class="img-fluid rounded-3"
											 style="width: 120px;" alt="Game">
										<div class="flex-column ms-4">
											<p class="mb-2">Tekken 8</p>
											<p class="mb-0">Standard edition!</p>
										</div>
									</div>
								<td class="align-middle">
									<p class="mb-0" style="font-weight: 500;">Preorder Type</p>
									<td class="align-middle">
										<div class="d-flex flex-row">
										  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
											<i class="fas fa-minus"></i>
										  </button>
									  
										  <input id="form1" min="0" name="quantity" value="1" type="number" class="form-control form-control-sm" style="width: 50px;" />
									  
										  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
											<i class="fas fa-plus"></i>
										  </button>
										</div>
									  </td>
								<td class="align-middle">
									<p class="mb-0" style="font-weight: 500;">можешь сам цену написать</p>
								</td>
								<td class="align-middle border-bottom-0">
									<button id="heartBtn" class="btn btn-outline-danger">
										<i class="fas fa-heart"></i>
									</button>
								</td>
							</tr>
							<tr>
								<th scope="row">
									<div class="d-flex align-items-center">
										<img src="https://media.graphassets.com/DduUlSlWSEe13MuYdzuu" class="img-fluid rounded-3"
											 style="width: 120px;" alt="Game">
										<div class="flex-column ms-4">
											<p class="mb-2">Tekken 8</p>
											<p class="mb-0">Deluxe edition!</p>
										</div>
									</div>
								</th>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">Preorder Typel</p>
								</td>
								<td class="align-middle">
									<div class="d-flex flex-row">
									  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
										<i class="fas fa-minus"></i>
									  </button>
								  
									  <input id="form1" min="0" name="quantity" value="1" type="number" class="form-control form-control-sm" style="width: 50px;" />
								  
									  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
										<i class="fas fa-plus"></i>
									  </button>
									</div>
								  </td>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">можешь сам цену написать</p>
								</td>
								<td class="align-middle border-bottom-0">
									<button id="heartBtn" class="btn btn-outline-danger">
										<i class="fas fa-heart"></i>
									</button>
								</td>
							</tr>
							<tr>
								<th scope="row">
									<div class="d-flex align-items-center">
										<img src="https://media.graphassets.com/VkfPkmBBRMqufipTtTiD" class="img-fluid rounded-3"
											 style="width: 120px;" alt="Game">
										<div class="flex-column ms-4">
											<p class="mb-2">Tekken 8</p>
											<p class="mb-0">Ultimate edition!</p>
										</div>
									</div>
								</th>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">Preorder Typel</p>
								</td>
								<td class="align-middle">
									<div class="d-flex flex-row">
										<button class="btn btn-link px-2"
												onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
											<i class="fas fa-minus"></i>
										</button>

										<input id="form1" min="0" name="quantity" value="0" type="number"
											   class="form-control form-control-sm" style="width: 50px;" />

										<button class="btn btn-link px-2"
												onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
											<i class="fas fa-plus"></i>
										</button>
									</div>
								</td>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">можешь сам цену написать</p>
								</td>
								<td class="align-middle border-bottom-0">
									<button id="heartBtn" class="btn btn-outline-danger">
										<i class="fas fa-heart"></i>
									</button>
								</td>
							</tr>
							<tr>
								<th scope="row">
									<div class="d-flex align-items-center">
										<img src="https://media.graphassets.com/Ygec83jtQmCx9jEkHSIA" class="img-fluid rounded-3"
											 style="width: 120px;" alt="Game">
										<div class="flex-column ms-4">
											<p class="mb-2">Tekken 8</p>
											<p class="mb-0">Premium edition!</p>
										</div>
									</div>
								</th>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">Preorder Typel</p>
								</td>
								<td class="align-middle">
									<div class="d-flex flex-row">
									  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
										<i class="fas fa-minus"></i>
									  </button>
								  
									  <input id="form1" min="0" name="quantity" value="1" type="number" class="form-control form-control-sm" style="width: 50px;" />
								  
									  <button class="btn btn-link px-2" onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
										<i class="fas fa-plus"></i>
									  </button>
									</div>
								  </td>
								<td class="align-middle border-bottom-0">
									<p class="mb-0" style="font-weight: 500;">можешь сам цену написать</p>
								</td>
								<td class="align-middle border-bottom-0">
									<button id="heartBtn" class="btn btn-outline-danger">
										<i class="fas fa-heart"></i>
									</button>
								</td>
							</tr>
							</tbody>
						</table>
					</div>
					<script src="index.js" charset="utf-8"></script>

</body>

</html>
